<!DOCTYPE html>
<html>
<head>
    <title>Virtual Village</title>
    <link rel="stylesheet" href="css/form.css">
</head>
<body>
    <div id="modal-login">
        <div>
            <img id="modal-image" src="../assets/logo_vueling_header.png" alt="">
        </div>
        <div class="container">
            <div id="form-modal">
                <div class="form-group">
                    <label for="username"><strong>Nombre de usuario:</strong></label>
                    <input type="text" id="username" name="username"/>
                </div>
                <button type="button" onclick="form_submit()">Iniciar sesi√≥n</button>
            </div>
        </div>
    </div>
    <div id='root' style="display: none;"></div>
</body>

<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
<script>
    let socket = io('http://localhost:5000');
    function form_submit() {
        let content = document.getElementById('username').value

        if(!content) {
            alert(`Invalid name ${content}`)
            return
        }
        
        socket.emit('user_login', content)

        document.getElementById('root').style.display = "block";
        document.getElementById('modal-login').style.display = "none";
    }
</script>
</html>